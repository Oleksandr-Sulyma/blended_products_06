{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/helpers.js","../src/js/storage.js","../src/js/modal.js","../src/home.js"],"sourcesContent":["const limit = 12; // кількість продуктів на сторінку\nconst baseUrl = 'https://dummyjson.com/products'; // базова URL-адреса API\nconst wishlistKey = 'wishlist';\nconst cartKey = 'cart';\n\nexport { limit, baseUrl, wishlistKey, cartKey };    \n\n","import axios, { Axios } from 'axios';\nimport { limit, baseUrl } from './constants.js';\n\n// API ендпоінт №1: базовий URL\nconst requestDummy = axios.create({\n  baseURL: baseUrl,\n});\n\n// API ендпоінт №2: функция getAllProducts(). Не приймає параметри, повертає проміс з даними (всі продукти з пагінацією)\nexport const getAllProducts = async (currentPage = 1) => {\n  try {\n    const response = await requestDummy.get(\n      `?limit=${limit}&skip=${\n        (currentPage - 1) * limit\n      }&select=id,thumbnail,title,brand,category,price`\n    );\n    return { data: response.data.products, total: response.data.total };\n  } catch (error) {\n    throw error;\n  }\n};\n\n// API ендпоінт №3: функція getProductById(id). Приймає id продукту, повертає проміс з даними (один продукт по ID)\nexport const getProductById = async id => {\n  try {\n    const response = await requestDummy.get(\n      `/${id}?select=id,thumbnail,title,tags,description,warrantyInformation,returnPolicy,price`\n    );\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\n\n// API ендпоінт №4: функція searchProducts(query). Приймає рядок пошукового запиту, повертає проміс з даними (список товарів,\n// що відповідають пошуковому запиту)\nexport const searchProducts = async (query, currentPage = 1) => {\n  try {\n    const response = await requestDummy.get(\n      `/search?q=${query}&limit=${limit}&skip=${\n        (currentPage - 1) * limit\n      }&select=id,thumbnail,title,brand,category,price`\n    );\n    return { data: response.data.products, total: response.data.total };\n  } catch (error) {\n    throw error;\n  }\n};\n\n// API ендпоінт №5: функція getCategoryList(). Не приймає параметри, повертає проміс з даними (список категорій прoдуктів)\nexport const getCategoryList = async () => {\n  try {\n    const response = await requestDummy.get('/category-list');\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\n\n// API ендпоінт №6: функція getProductsByCategory(category). Приймає назву категорії, повертає проміс з даними (список\n// продуктів у вказаній категорії)\nexport const getProductsByCategory = async (category, currentPage = 1) => {\n  try {\n    const response = await requestDummy.get(\n      `/category/${category}?limit=${limit}&skip=${\n        (currentPage - 1) * limit\n      }&select=id,thumbnail,title,brand,category,price`\n    );\n    return { data: response.data.products, total: response.data.total };\n  } catch (error) {\n    throw error;\n  }\n};\n\n//для перевірки роботи функцій:\n// getAllProducts().then(data => console.log('getAllProducts- ', data));\n// getProductsByCategory('smartphones').then(data =>\n//   console.log('getProductsByCategory(\"smartphones\")- ', data)\n// );\n// getProductById(10).then(data => console.log('getProductById(5)- ', data));\n// searchProducts('phone').then(data =>\n//   console.log('searchProducts(\"phone\")- ', data)\n// );\n// getCategoryList().then(data => console.log('getCategoryList- ', data));\n","export default {\n  elCategories: document.querySelector('.categories'),\n  elProducts: document.querySelector('.products'),\n  cardProduct: document.querySelector('.modal-product'),\n  modal: document.querySelector('.modal'),\n  loadMoreButton: document.querySelector('.load-more-btn'),\n  \n};\n","import refs from './refs.js';\n\n// функція рендерить список категорій у контейнер\nexport function renderCategories(categories) {\n  categories.unshift('All');\n  const markup = categories\n    .map(\n      category => `\n     <li class=\"categories__item\">\n      <button class=\"categories__btn ${\n        category === 'All' ? 'categories__btn--active' : ''\n      }\" type=\"button\">${category}</button>\n    </li>`\n    )\n    .join('');\n  refs.elCategories.insertAdjacentHTML('beforeend', markup);\n}\n\n// функція створює HTML-розмітку для продуктів\nfunction murkupProdect(products) {\n  return products\n    .map(\n      ({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category:${category} </p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`\n    )\n    .join('');\n}\n// функція рендерить продукти у список на сторінці\nexport function renderProduct(products) {\n  refs.elProducts.insertAdjacentHTML('beforeend', murkupProdect(products));\n}\n\n// функція створює HTML-розмітку для картки продукту\nfunction markupCardProduct(product) {\n  const tags = product.tags.map(el => `<li>${el}</li>`).join('');\n  return `\n    <img class=\"modal-product__img\" src=\"${product.thumbnail}\" alt=\"${product.id}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${product.warrantyInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${product.returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${product.price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n    `;\n}\n\n// функція рендерить картку продукту у модальне вікно\nexport function renderCardProduct(product) {\n  refs.cardProduct.innerHTML = markupCardProduct(product);\n}\n\n\n","import refs from './refs';\nimport { limit } from './constants';\nimport {\n  getAllProducts,\n  getProductsByCategory,\n  searchProducts,\n} from './products-api.js';\n\nimport { renderProduct } from './render-function.js';\n\nexport {\n  showLoadMoreButton,\n  hideLoadMoreButton,\n  scrollItem,\n  lastPage,\n  loadProducts,\n  loadSearchProducts,\n};\n\n// функція показує кнопку \"Завантажити ще\", якщо є ще сторінки для завантаження\nfunction showLoadMoreButton(total, currentPage) {\n  // const lastPage = Math.ceil(total / limit);\n\n  if (currentPage < lastPage(total)) {\n    refs.loadMoreButton.classList.remove('is-hidden');\n  } else {\n    hideLoadMoreButton();\n  }\n}\n\n// функція ховає кнопку \"Завантажити ще\"\nfunction hideLoadMoreButton() {\n  refs.loadMoreButton.classList.add('is-hidden');\n}\n\nfunction scrollItem(item) {\n  if (item) {\n    const itemHeight = item.getBoundingClientRect().height;\n    window.scrollBy({\n      top: itemHeight * 2,\n      behavior: 'smooth',\n    });\n  }\n}\n\n// функція обчислює загальну кількість сторінок\nconst lastPage = total => Math.ceil(total / limit);\n\n// функція завантажує продукти в залежності від категорії та поточної сторінки\nasync function loadProducts(activeCategory, currentPage) {\n  let data;\n  let total = 0;\n  try {\n    if (activeCategory !== 'all') {\n      ({ data, total } = await getProductsByCategory(\n        activeCategory,\n        currentPage\n      ));\n    } else {\n      ({ data, total } = await getAllProducts(currentPage));\n    }\n    renderProduct(data);\n    if (lastPage(total) === currentPage) {\n      console.log('These are all the products found for your query.');\n    }\n    showLoadMoreButton(total, currentPage);\n    if (currentPage > 1) {\n      const item = refs.elProducts.querySelector('.products__item');\n      scrollItem(item);\n    }\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    if (currentPage < lastPage(total)) {\n      refs.loadMoreButton.disabled = false;\n    }\n  }\n}\n\n//функція завантажує продукти в залежності від пошукового запиту та поточної сторінки\nasync function loadSearchProducts(search, currentPage) {\n  let data;\n  let total = 0;\n\n  try {\n    ({ data, total } = await searchProducts(search, currentPage));\n\n    if (lastPage(total) === 0) {\n      return refs.notFound.classList.add('not-found--visible');\n    }\n    renderProduct(data);\n    if (lastPage(total) === currentPage) {\n      console.log('These are all the products found for your query.');\n    }\n    showLoadMoreButton(total, currentPage);\n    if (currentPage > 1) {\n      scrollItem(item);\n    }\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    if (currentPage < lastPage(total)) {\n      refs.loadMoreButton.disabled = false;\n    }\n  }\n}\n","const setLocalStorage = (key, array) =>\n  localStorage.setItem(key, JSON.stringify(array));\nconst getLocalStorage = key => JSON.parse(localStorage.getItem(key));\nconst removeLocalStorage = key => localStorage.removeItem(key);\n\nexport { setLocalStorage, getLocalStorage, removeLocalStorage };\n","import refs from './refs.js';\nimport { getProductById } from './products-api.js';\nimport { renderCardProduct } from './render-function.js';\nimport {\n  setLocalStorage,\n  getLocalStorage,\n  removeLocalStorage,\n} from './storage.js';\nimport { wishlistKey, cartKey } from './constants.js';\nexport { handleOpenCardProduct, handleCardProduct };\n\nlet wishlist = getLocalStorage(wishlistKey) || [];\nlet cart = getLocalStorage(cartKey) || [];\nlet productId;\n\n// функціонал відкриття картки товару\nasync function handleOpenCardProduct(e) {\n  e.preventDefault();\n\n  // додаєм слухач подій картки товару\n  refs.modal.addEventListener('click', handleCardProduct);\n\n  // додаєм слухач подій клавіатури для закриття картки товару по Esc\n  window.addEventListener('keydown', handleEsc);\n\n  // перевірка чи клікнули по продукту\n    const element = e.target.closest('.products__item');\n  if (!element) {\n    return;\n  }\n  refs.modal.classList.add('modal--is-open');\n  // отримання id продукту\n  productId = element.dataset.id;\n\n// формація для кнопки \"Add to Wishlist\" або \"Remove from Wishlist\"\n  const btnWishlist = refs.modal.querySelector('.modal-product__btn--wishlist');\n  if (wishlist.includes(productId)) {\n    btnWishlist.textContent = 'Remove from Wishlist';\n  } else {\n    btnWishlist.textContent = 'Add to Wishlist';\n  }\n\n// формація для кнопки \"Add to CarT\" або \"Remove from Cart\"\n  const btnCart = refs.modal.querySelector('.modal-product__btn--cart');\n  if (cart.includes(productId)) {\n    btnCart.textContent = 'Remove from Cart';\n  } else {\n    btnCart.textContent = 'Add to Cart';\n  }\n\n// отримання продукту по id\n  try {\n    const response = await getProductById(productId);\n    renderCardProduct(response);\n    return;\n  } catch (error) {\n    console.log(error.message);\n    return;\n  }\n}\n\n// функціонал роботи з карткою товару\nfunction handleCardProduct(e) {\n  e.preventDefault();\n    // закриття картки по кнопці закриття\n  if (e.target.classList.contains('modal__close-btn')) {\n    return closeCardProduct();\n  }\n  // закриття картки по бекдропу\n  if (e.target === e.currentTarget) {\n    return closeCardProduct();\n  }\n  // додати функціонал по іншим кнопкам картки\n\n  if (e.target.classList.contains('modal-product__btn--wishlist')) {\n    if (e.target.textContent.trim().toLowerCase() === 'add to wishlist') {\n      e.target.textContent = 'Remove from Wishlist';\n      handleBtnAdd(wishlistKey, wishlist);\n      return;\n    } else {\n      handleBtnRemove(wishlistKey, wishlist);\n      e.target.textContent = 'Add to Wishlist';\n      return;\n    }\n  }\n  if (e.target.classList.contains('modal-product__btn--cart')) {\n    if (e.target.textContent.trim().toLowerCase() === 'add to cart') {\n      e.target.textContent = 'Remove from Cart';\n      handleBtnAdd(cartKey, cart);\n      return;\n    } else {\n      handleBtnRemove(cartKey, cart);\n      e.target.textContent = 'Add to Cart';\n      return;\n    }\n  }\n}\n\n\nfunction handleEsc(e) {\n  if (e.key === 'Escape') {\n    return closeCardProduct();\n  }\n}\n\n// функція закриває картку продукту\nfunction closeCardProduct() {\n  refs.cardProduct.innerHTML = '';\n  refs.modal.classList.remove('modal--is-open');\n\n  // 1. Видаляємо слухача Esc\n  window.removeEventListener('keydown', handleEsc);\n\n  // 2. Видаляємо слухача кліку на бекдроп (якщо він не був делегований на `.modal`)\n  refs.modal.removeEventListener('click', handleCardProduct);\n}\n\n// функції додають або видаляють id продукту в/з масиву wishlist або cart і записують його в локал сторедж\nfunction handleBtnAdd(key) {\nif (key === wishlistKey) {\n  wishlist.push(productId);\n  setLocalStorage(wishlistKey, wishlist);\n} else {\n  cart.push(productId);\n  setLocalStorage(cartKey, cart);\n}\n}\n\nfunction handleBtnRemove(key) {\nif (key === wishlistKey) {\n  wishlist = getLocalStorage(wishlistKey);\n  wishlist = wishlist.filter(id => id !== productId);\n  setLocalStorage(wishlistKey, wishlist);\n} else {\n  cart = getLocalStorage(cartKey);\n  cart = cart.filter(id => id !== productId);\n  setLocalStorage(cartKey, cart);\n}\n}\n\n","//Логіка сторінки Home\nimport {\n  getAllProducts,\n  // getProductById,\n  // searchProducts,\n  getCategoryList,\n} from './js/products-api.js';\nimport refs from './js/refs.js';\n\nimport {\n  // closeCardProduct,\n  // renderCardProduct,\n  renderCategories,\n  renderProduct,\n} from './js/render-function.js';\n\nimport {\n  showLoadMoreButton,\n  // scrollItem,\n  // lastPage,\n  loadProducts,\n  loadSearchProducts,\n} from './js/helpers.js';\n\nimport { handleOpenCardProduct, handleCardProduct } from './js/modal.js';\n\nlet currentPage = 1;\nlet search;\nconst searchInput = refs.searchProducts.elements.searchValue;\n\n// ініціалізація сторінки\nasync function init() {\n  console.log(currentPage);\n\n  try {\n    let data;\n    let total = 0;\n    const response = await getCategoryList();\n    renderCategories(response);\n    ({ data, total } = await getAllProducts());\n    renderProduct(data);\n    showLoadMoreButton(total, currentPage);\n    console.log(currentPage);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\ninit(currentPage);\n\n// функціонал вибору категорії товарів\nrefs.elCategories.addEventListener('click', triggerCategory);\n\nasync function triggerCategory(e) {\n  currentPage = 1;\n  searchInput.value = '';\n  e.preventDefault();\n  if (!e.target.classList.contains('categories__btn')) return;\n\n  e.currentTarget\n    .querySelector('.categories__btn--active')\n    ?.classList.remove('categories__btn--active');\n\n  const button = e.target.closest('.categories__btn');\n  button.classList.add('categories__btn--active');\n  const activeCategory = button.textContent.trim().toLowerCase();\n  refs.elProducts.innerHTML = '';\n  loadProducts(activeCategory, currentPage);\n}\n\n// функціонал пошуку товарів за допомогою форми\nrefs.searchProducts.addEventListener('submit', handleSearchProducts);\n\nasync function handleSearchProducts(e) {\n  e.preventDefault();\n  currentPage = 1;\n  search = e.target.elements.searchValue.value.trim().toLowerCase();\n  const activeBtn = refs.elCategories.querySelector('.categories__btn--active');\n  if (activeBtn) {\n    activeBtn.classList.remove('categories__btn--active');\n    refs.elProducts.innerHTML = '';\n  }\n\n  if (refs.notFound.classList.contains('not-found--visible')) {\n    refs.notFound.classList.remove('not-found--visible');\n  }\n\n  if (!search) {\n    return console.log('Sorry, search query is empty!');\n  }\n\n  loadSearchProducts(search, currentPage);\n}\n\n// функціонал кнопки Clear\nrefs.clearBtn.addEventListener('click', handleClearSearch);\n\nasync function handleClearSearch() {\n  // const searchInput = refs.searchProducts.elements.searchValue;\n  searchInput.value = '';\n  searchInput.focus();\n  refs.elProducts.innerHTML = '';\n\n  const button = refs.elCategories.querySelector('.categories__btn');\n  button.classList.add('categories__btn--active');\n\n  let data;\n  let total = 0;\n\n  try {\n    ({ data, total } = await getAllProducts());\n    renderProduct(data);\n    showLoadMoreButton(total, currentPage);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// функціонал кнопки Load More\nrefs.loadMoreButton.addEventListener('click', triggerLoadMore);\n\nconsole.log(currentPage);\nasync function triggerLoadMore(e) {\n  e.preventDefault();\n  refs.loadMoreButton.disabled = true;\n  let activeCategory = refs.elCategories.querySelector(\n    '.categories__btn.categories__btn--active'\n  );\n\n  if (activeCategory) {\n    activeCategory = activeCategory.textContent.trim().toLowerCase();\n  }\n\n  currentPage += 1;\n\n  if (activeCategory) {\n    loadProducts(activeCategory, currentPage);\n  } else if (search) {\n    loadSearchProducts(search, currentPage);\n  }\n}\n\n// відкриття картки товару\nrefs.elProducts.addEventListener('click', handleOpenCardProduct);\n"],"names":["limit","baseUrl","wishlistKey","cartKey","requestDummy","axios","getAllProducts","currentPage","response","error","getProductById","id","searchProducts","query","getCategoryList","getProductsByCategory","category","refs","renderCategories","categories","markup","murkupProdect","products","thumbnail","title","brand","price","renderProduct","markupCardProduct","product","tags","el","renderCardProduct","showLoadMoreButton","total","lastPage","hideLoadMoreButton","scrollItem","item","itemHeight","loadProducts","activeCategory","data","loadSearchProducts","search","setLocalStorage","key","array","getLocalStorage","wishlist","cart","productId","handleOpenCardProduct","e","handleCardProduct","handleEsc","element","btnWishlist","btnCart","closeCardProduct","handleBtnAdd","handleBtnRemove","searchInput","init","triggerCategory","_a","button","handleSearchProducts","activeBtn","handleClearSearch","triggerLoadMore"],"mappings":"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"}